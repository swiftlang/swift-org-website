pre.highlight {
  background: var(--color-code-background);

  .c,   /* Comment */
  .cm,  /* Comment.Multiline */
  .cp,  /* Comment.Preproc */
  .c1,  /* Comment.Single */
  .cs {
    /* Comment.Special */
    color: var(--color-syntax-comments);
  }

  .k,   /* Keyword */
  .kc,  /* Keyword.Constant */
  .kd,  /* Keyword.Declaration */
  .kp,  /* Keyword.Pseudo */
  .kr,
  .kt   /* Keyword.Reserved */
  .nb {
    /* Name.Builtin */
    color: var(--color-syntax-keywords);
  }

  .nv,  /* Name.Variable */
  .nf {
    /* Name.Function */
    color: var(--color-syntax-project-constants);
  }

  .s,   /* Literal.String */
  .sb,  /* Literal.String.Backtick */
  .sc,  /* Literal.String.Char >> --color-syntax-characters */
  .sd,  /* Literal.String.Doc */
  .s2,  /* Literal.String.Double */
  .se,  /* Literal.String.Escape */
  .sh,  /* Literal.String.Heredoc */
  .si,  /* Literal.String.Interpol */
  .s1,  /* Literal.String.Single */
  .sx {
    /* Literal.String.Other */
    color: var(--color-syntax-strings);
  }

  .na {
    /* Name.Attribute */
    color: var(--color-syntax-attributes);
  }

  .nc,  /* Name.Class */
  .ni,  /* Name.Entity */
  .no,  /* Name.Constant */
  .vc,  /* Name.Variable.Class */
  .vg,  /* Name.Variable.Global */
  .vi {
    /* Name.Variable.Instance */
    color: var(--color-syntax-other-type-names);
  }

  .err, /* Error */
  .gr,  /* Generic.Error */
  .gt,  /* Generic.Traceback */
  .ne {
    /* Name.Exception */
    color: var(--color-syntax-strings);
  }

  .m,   /* Literal.Number */
  .mf,  /* Literal.Number.Float */
  .mh,  /* Literal.Number.Hex */
  .mi,  /* Literal.Number.Integer */
  .il,  /* Literal.Number.Integer.Long */
  .mo {
    /* Literal.Number.Oct */
    color: var(--color-syntax-numbers);
  }

  .o,   /* Operator */
  .ow,  /* Operator.Word */
  .gs {
    /* Generic.Strong */
    font-weight: bold;
  }

  .ge {
    /* Generic.Emph */
    font-style: italic;
  }

  .nt {
    /* Name.Tag */
    color: var(--color-syntax-characters);
  }

  .gd,     /* Generic.Deleted */
  .gd .x {
    /* Generic.Deleted.Specific */
    color: var(--color-syntax-plain-text);
    background-color: var(--color-fill-red-secondary);
  }

  .gi,     /* Generic.Inserted */
  .gi .x {
    /* Generic.Inserted.Specific */
    color: var(--color-syntax-plain-text);
    background-color: var(--color-fill-green-secondary);
  }

  .gh, /* Generic.Heading */
  .bp, /* Name.Builtin.Pseudo */
  .go, /* Generic.Output */
  .gp, /* Generic.Prompt */
  .gu, /* Generic.Subheading */
  .w {
    /* Text.Whitespace */
    color: var(--color-syntax-comments);
  }

  .nn {
    /* Name.Namespace */
    color: var(--color-syntax-other-declarations);
  }

  .sr {
    /* Literal.String.Regex */
    color: var(--color-figure-green);
  }

  .ss {
    /* Literal.String.Symbol */
    color: var(--color-syntax-heading);
  }

  /* Make prompts non-selectable, to make it easy to copy and paste */
  .gp {
    -webkit-user-select: none;
    user-select: none;

    & + .w {
      -webkit-user-select: none;
      user-select: none;
    }
  }
}

.language-console {
  color: var(--color-syntax-plain-text);
}

// Explicit syntax highlighting for C++ code blocks:

.language-cpp .cp,
.language-cpp .kt,
.language-cpp .nl,
.language-cpp .o,
.language-c\+\+ .cp,
.language-c\+\+ .kt,
.language-c\+\+ .nl,
.language-c\+\+ .o {
  color: var(--color-syntax-keywords);
}
